# üöÄ Production vs Development - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## ‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ Flask:**

```
WARNING: This is a development server. Do not use it in a production deployment. 
Use a production WSGI server instead.
```

## üîç **–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**

### **‚ùå Flask Development Server (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- **–ù–µ–±–µ–∑–æ–ø–∞—Å–µ–Ω** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ú–µ–¥–ª–µ–Ω–Ω—ã–π** –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π** –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- **–û–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π** (–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞ —Ä–∞–∑)
- **–ù–µ—Ç –∑–∞—â–∏—Ç—ã** –æ—Ç DoS –∞—Ç–∞–∫
- **–ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **‚úÖ Production WSGI Server (Gunicorn):**
- **–ë–µ–∑–æ–ø–∞—Å–µ–Ω** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ë—ã—Å—Ç—Ä—ã–π** –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π** (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ—Ä–∫–µ—Ä–æ–≤)
- **–ó–∞—â–∏—Ç–∞** –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Graceful shutdown** –∏ restart

## üõ†Ô∏è **–†–µ—à–µ–Ω–∏–µ - Gunicorn:**

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
pip install gunicorn
```

### **–ó–∞–ø—É—Å–∫:**
```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
gunicorn app:app

# –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
gunicorn --bind 0.0.0.0:5000 --workers 4 --timeout 120 app:app

# –° –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º
gunicorn --config gunicorn.conf.py app:app
```

## üê≥ **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

### **Production (–æ—Å–Ω–æ–≤–Ω–æ–π Dockerfile):**
```dockerfile
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Gunicorn
CMD ["gunicorn", "--config", "gunicorn.conf.py", "app:app"]
```

### **Development (Dockerfile.dev):**
```dockerfile
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Flask development server
CMD ["python", "app.py"]
```

## üöÄ **–ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞:**

### **Production:**
```bash
# Docker Compose (production)
docker-compose up -d

# –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker build -t yandex-search-app:latest .
docker run -d --name yandex-search-app -p 5000:5000 yandex-search-app:latest
```

### **Development:**
```bash
# Docker Compose (development)
docker-compose -f docker-compose.dev.yml up -d

# –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker build -f Dockerfile.dev -t yandex-search-app:dev .
docker run -d --name yandex-search-app-dev -p 5000:5000 yandex-search-app:dev
```

## üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Flask Dev Server | Gunicorn |
|----------|------------------|----------|
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | ‚ùå –ù–∏–∑–∫–∞—è | ‚úÖ –í—ã—Å–æ–∫–∞—è |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è | ‚úÖ –ë—ã—Å—Ç—Ä–∞—è |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | ‚ùå –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è | ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è |
| **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–ó–∞—â–∏—Ç–∞ –æ—Ç DoS** | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| **Graceful restart** | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gunicorn:**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--workers 4` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤
- `--timeout 120` - —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞
- `--keep-alive 2` - keep-alive —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- `--max-requests 1000` - –º–∞–∫—Å–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤–æ—Ä–∫–µ—Ä
- `--bind 0.0.0.0:5000` - –∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- `limit_request_line 4094` - –º–∞–∫—Å–∏–º—É–º –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- `limit_request_fields 100` - –º–∞–∫—Å–∏–º—É–º –ø–æ–ª–µ–π –≤ –∑–∞–ø—Ä–æ—Å–µ
- `limit_request_field_size 8190` - –º–∞–∫—Å–∏–º—É–º —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–ª—è

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flask development server
- –í–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.dev.yml`

### **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gunicorn
- –û—Ç–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.yml`

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå **–ë–æ–ª—å—à–µ –Ω–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**
- ‚úÖ **Production-ready —Å–µ—Ä–≤–µ—Ä**
- ‚úÖ **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**

**–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üéâ
